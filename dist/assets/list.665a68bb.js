var B=Object.defineProperty,D=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var U=(e,o,t)=>o in e?B(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,b=(e,o)=>{for(var t in o||(o={}))R.call(o,t)&&U(e,t,o[t]);if(w)for(var t of w(o))W.call(o,t)&&U(e,t,o[t]);return e},L=(e,o)=>D(e,S(o));import{u as E,c as O,g as I,d as M}from"./circuit.3fb27072.js";import{u as $}from"./UseSearch.32a49bf2.js";import{u as j,a as Q,b as z}from"./UseDialog.7d7ff299.js";import{g as H}from"./extension.a40147a4.js";import{r as v,i as K,f as Z,Z as m,o as i,K as C,L as r,a as G,T as l,c as P,a2 as F,F as q,R as _}from"./@vue.9f1b68af.js";import{_ as N}from"./index.5b82d3e6.js";import{b as T,c as J}from"./element-plus.55dd86f2.js";import"./vue-router.949634a5.js";import"./vuex.49683c05.js";import"./moment.a5c37c1e.js";import"./axios.8b958ab2.js";import"./js-cookie.31874410.js";import"./@element-plus.a205db37.js";import"./nprogress.2f56b1fe.js";import"./lodash-es.3d1d9723.js";import"./@vueuse.ef512f30.js";import"./@popperjs.da6c49cb.js";import"./@ctrl.2e36ce53.js";import"./dayjs.644349ef.js";import"./async-validator.5d25c98b.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";const X=[{label:"\u5E8F\u53F7",type:"index",width:80},{label:"\u7EBF\u8DEF\u540D\u79F0",prop:"name"},{label:"\u5BF9\u63A5\u7C7B\u578B",prop:"dockType",render:e=>({1:"\u5411\u5E73\u53F0\u6CE8\u518C",2:"\u5E73\u53F0\u5411\u5916\u6CE8\u518C",3:"IP\u5BF9\u63A5"})[e.dockType]},{label:"\u5E76\u53D1\u6570",prop:"concurrent"},{label:"\u5BF9\u63A5\u5916\u663E",prop:"display"},{label:"\u64CD\u4F5C",prop:"operation",slot:"operation"}],Y=()=>{const e=[{label:"\u5411\u5E73\u53F0\u6CE8\u518C",value:1},{label:"\u5E73\u53F0\u5411\u5916\u6CE8\u518C",value:2},{label:"IP\u5BF9\u63A5",value:3}],o=v([]),t=()=>{H({pageSize:1e3,pageNumber:1}).then(c=>{o.value=c.root})};return K(()=>{t()}),{typeList:e,extensionList:o,getExtensionList:t}},x={props:{value:{type:Boolean,default:!1},type:{type:String,default:""},defaultForm:{type:Object,default:()=>({})}},emits:["cancel","confirm"],setup(e,{emit:o}){const t=v(!1),d=v(null),c={defaultForm:b({name:"",dockType:1,extension:"",dockName:"",dockAcc:"",dockPasswd:"",dockAddr:"",prefix:"",display:"",codecs:"",concurrent:null,memo:""},e.defaultForm),defaultRules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7EBF\u8DEF\u540D\u79F0",trigger:"blur"}],dockType:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u673A\u7C7B\u578B",trigger:"change"}],extension:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u673A\u53F7",trigger:"blur"}],dockName:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u5173\u540D\u79F0",trigger:"blur"}],dockAcc:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}],dockPasswd:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}],dockAddr:[{required:!0,message:"\u8BF7\u8F93\u5165\u5730\u5740",trigger:"blur"}],display:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BF9\u63A5\u5916\u663E",trigger:"blur"}],codecs:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BED\u97F3\u7F16\u7801",trigger:"blur"}],concurrent:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E76\u53D1\u6570",trigger:"blur"}]},confirm:u=>{const f=u.id?"\u7F16\u8F91\u6210\u529F":"\u65B0\u589E\u6210\u529F",g=u.id?E:O;t.value=!0,g(u).then(h=>{T({type:"success",message:f,duration:1e3}),p.value=!1,o("confirm")}).finally(()=>{t.value=!1})},cancel:()=>{p.value=!1,o("cancel")}},y=Y();Z(()=>e.defaultForm,u=>{n.setForm(b({name:"",dockType:1,extension:"",dockName:"",dockAcc:"",dockPasswd:"",dockAddr:"",prefix:"",display:"",codecs:"",concurrent:null,memo:""},u))});const n=j(d,c),{getTitle:s,visible:p}=Q(e,{create:"\u65B0\u589E",edit:"\u7F16\u8F91"});return b(b({visible:p,title:s,formRef:d,btnLoading:t},y),n)}},ee={class:"dialog-footer"},oe=_("\u53D6\u6D88"),le=_(" \u786E\u5B9A ");function ae(e,o,t,d,c,y){const n=m("el-input"),s=m("el-form-item"),p=m("el-option"),u=m("el-select"),f=m("el-form"),g=m("el-button"),h=m("el-dialog");return i(),C(h,{modelValue:d.visible,"onUpdate:modelValue":o[14]||(o[14]=a=>d.visible=a),title:d.title,"before-close":e.handleCancel},{footer:r(()=>[G("span",ee,[l(g,{onClick:e.handleCancel},{default:r(()=>[oe]),_:1},8,["onClick"]),l(g,{type:"primary",loading:d.btnLoading,onClick:e.handleConfirm},{default:r(()=>[le]),_:1},8,["loading","onClick"])])]),default:r(()=>[l(f,{ref:"formRef",model:e.form,rules:e.rules,"label-width":"82px"},{default:r(()=>[l(s,{label:"\u7EBF\u8DEF\u540D\u79F0:",prop:"name"},{default:r(()=>[l(n,{modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.name=a),placeholder:"\u8BF7\u8F93\u5165\u7EBF\u8DEF\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5BF9\u63A5\u7C7B\u578B:",prop:"dockType"},{default:r(()=>[l(u,{modelValue:e.form.dockType,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.dockType=a),placeholder:"\u8BF7\u9009\u62E9\u5BF9\u63A5\u7C7B\u578B",style:{width:"100%"}},{default:r(()=>[(i(!0),P(q,null,F(e.typeList,(a,k)=>(i(),C(p,{key:k,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.form.dockType==1?(i(),C(s,{key:0,label:"\u5206\u673A\u53F7\u7801:",prop:"extension"},{default:r(()=>[l(u,{modelValue:e.form.extension,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.extension=a),placeholder:"\u8BF7\u9009\u62E9\u5206\u673A\u53F7\u7801",style:{width:"100%"}},{default:r(()=>[(i(!0),P(q,null,F(e.extensionList,(a,k)=>(i(),C(p,{key:k,label:a.extension,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):e.form.dockType==2?(i(),P(q,{key:1},[l(s,{label:"\u7F51\u5173\u540D\u79F0:",prop:"dockName"},{default:r(()=>[l(n,{class:"hidden"}),l(n,{modelValue:e.form.dockName,"onUpdate:modelValue":o[3]||(o[3]=a=>e.form.dockName=a),placeholder:"\u8BF7\u8F93\u5165\u7F51\u5173\u540D\u79F0",autocomplete:"off"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u8D26\u53F7:",prop:"dockAcc"},{default:r(()=>[l(n,{class:"hidden"}),l(n,{modelValue:e.form.dockAcc,"onUpdate:modelValue":o[4]||(o[4]=a=>e.form.dockAcc=a),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",autocomplete:"off"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5BC6\u7801:",prop:"dockPasswd"},{default:r(()=>[l(n,{class:"hidden"}),l(n,{modelValue:e.form.dockPasswd,"onUpdate:modelValue":o[5]||(o[5]=a=>e.form.dockPasswd=a),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",autocomplete:"new-password"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u6CE8\u518C\u5730\u5740:",prop:"dockAddr"},{default:r(()=>[l(n,{modelValue:e.form.dockAddr,"onUpdate:modelValue":o[6]||(o[6]=a=>e.form.dockAddr=a),placeholder:"\u8BF7\u8F93\u5165\u6CE8\u518C\u5730\u5740"},null,8,["modelValue"])]),_:1})],64)):(i(),P(q,{key:2},[l(s,{label:"\u771F\u5B9E\u5916\u663E:"},{default:r(()=>[l(n,{modelValue:e.form.dockAcc,"onUpdate:modelValue":o[7]||(o[7]=a=>e.form.dockAcc=a),placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u5916\u663E"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u524D\u7F00:"},{default:r(()=>[l(n,{modelValue:e.form.prefix,"onUpdate:modelValue":o[8]||(o[8]=a=>e.form.prefix=a),placeholder:"\u8BF7\u8F93\u5165\u524D\u7F00"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5BF9\u63A5\u5730\u5740:",prop:"dockAddr"},{default:r(()=>[l(n,{modelValue:e.form.dockAddr,"onUpdate:modelValue":o[9]||(o[9]=a=>e.form.dockAddr=a),placeholder:"\u8BF7\u8F93\u5165\u5BF9\u63A5\u5730\u5740"},null,8,["modelValue"])]),_:1})],64)),l(s,{label:"\u5BF9\u63A5\u5916\u663E:",prop:"display"},{default:r(()=>[l(n,{modelValue:e.form.display,"onUpdate:modelValue":o[10]||(o[10]=a=>e.form.display=a),placeholder:"\u8BF7\u8F93\u5165\u5BF9\u63A5\u5916\u663E"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u8BED\u97F3\u7F16\u7801:",prop:"codecs"},{default:r(()=>[l(n,{modelValue:e.form.codecs,"onUpdate:modelValue":o[11]||(o[11]=a=>e.form.codecs=a),placeholder:"\u8BF7\u8F93\u5165\u8BED\u97F3\u7F16\u7801"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5E76\u53D1\u6570:",prop:"concurrent"},{default:r(()=>[l(n,{modelValue:e.form.concurrent,"onUpdate:modelValue":o[12]||(o[12]=a=>e.form.concurrent=a),placeholder:"\u8BF7\u8F93\u5165\u5E76\u53D1\u6570"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5907\u6CE8:"},{default:r(()=>[l(n,{type:"textarea",modelValue:e.form.memo,"onUpdate:modelValue":o[13]||(o[13]=a=>e.form.memo=a),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title","before-close"])}var re=N(x,[["render",ae]]);const te={components:{CreateDialog:re},setup(){const e=v(null),o=v({name:""}),{toQuery:t,clearForm:d}=$(o,e),c=z(t),y=n=>{J.confirm("\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{M({id:n}).then(()=>{T({type:"success",message:"\u5220\u9664\u6210\u529F"}),t()})}).catch(()=>{T({type:"info",message:"\u53D6\u6D88\u5220\u9664"})})};return L(b({basicTableRef:e,queryParams:o,gateWayListPage:I,columns:X,toQuery:t,clearForm:d},c),{handleDelete:y})}},ne=_(" + \u65B0\u5EFA"),de=_(" \u7F16\u8F91 "),se=_(" \u5220\u9664 ");function me(e,o,t,d,c,y){const n=m("el-input"),s=m("el-form-item"),p=m("el-col"),u=m("SearchWrap"),f=m("el-button"),g=m("BasicTable"),h=m("ListContainer"),a=m("CreateDialog"),k=m("PageWrapper");return i(),C(k,null,{default:r(()=>[l(u,{onReset:d.clearForm,onSearch:d.toQuery,model:d.queryParams},{default:r(({colSpan:V})=>[l(p,{span:V},{default:r(()=>[l(s,{label:"\u7EBF\u8DEF\u540D\u79F0"},{default:r(()=>[l(n,{modelValue:d.queryParams.name,"onUpdate:modelValue":o[0]||(o[0]=A=>d.queryParams.name=A),placeholder:"\u8BF7\u8F93\u5165\u7EBF\u8DEF\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:2},1032,["span"])]),_:1},8,["onReset","onSearch","model"]),l(h,null,{default:r(()=>[l(g,{columns:d.columns,queryApi:d.gateWayListPage,queryParams:d.queryParams,ref:"basicTableRef"},{tableHeader:r(()=>[l(f,{type:"primary",onClick:o[1]||(o[1]=V=>e.handleOperationClick("create"))},{default:r(()=>[ne]),_:1})]),operation:r(({data:V})=>[l(f,{type:"text",onClick:A=>e.handleOperationClick("edit",V)},{default:r(()=>[de]),_:2},1032,["onClick"]),l(f,{type:"text",style:{color:"#f56c6c"},onClick:A=>d.handleDelete(V.id)},{default:r(()=>[se]),_:2},1032,["onClick"])]),_:1},8,["columns","queryApi","queryParams"])]),_:1}),l(a,{value:e.showDialog,type:e.typeDialog,defaultForm:e.defaultForm,onCancel:e.handleCancel,onConfirm:e.handleConfirm},null,8,["value","type","defaultForm","onCancel","onConfirm"])]),_:1})}var De=N(te,[["render",me]]);export{De as default};

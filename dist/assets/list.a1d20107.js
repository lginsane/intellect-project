var Q=Object.defineProperty,W=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var S=(e,l,r)=>l in e?Q(e,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[l]=r,F=(e,l)=>{for(var r in l||(l={}))A.call(l,r)&&S(e,r,l[r]);if(B)for(var r of B(l))H.call(l,r)&&S(e,r,l[r]);return e},L=(e,l)=>W(e,Y(l));import{d as O}from"./dayjs.644349ef.js";import{s as k,_ as E}from"./index.5b82d3e6.js";import{u as j}from"./UseSearch.32a49bf2.js";import{u as I,a as K,b as Z}from"./UseDialog.7d7ff299.js";import{F as z}from"./index.a901fab7.js";import{b as w,c as G}from"./element-plus.55dd86f2.js";import{r as T,f as J,x as X,Z as i,o as f,K as b,L as t,a as $,T as a,c as D,a2 as U,F as P,Q as R,R as q}from"./@vue.9f1b68af.js";import{u as x}from"./vuex.49683c05.js";import"./axios.8b958ab2.js";import"./vue-router.949634a5.js";import"./moment.a5c37c1e.js";import"./js-cookie.31874410.js";import"./@element-plus.a205db37.js";import"./nprogress.2f56b1fe.js";import"./lodash-es.3d1d9723.js";import"./@vueuse.ef512f30.js";import"./@popperjs.da6c49cb.js";import"./@ctrl.2e36ce53.js";import"./async-validator.5d25c98b.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";const ee=[{label:"\u5E8F\u53F7",type:"index",width:80},{label:"\u8BED\u97F3\u540D\u79F0",prop:"name"},{label:"\u8BED\u97F3\u7C7B\u578B",prop:"type",render:e=>({1:"\u8BDD\u672F\u8BED\u97F3",2:"\u8282\u70B9\u8BED\u97F3",3:"\u77E5\u8BC6\u8BED\u97F3"})[e.type]},{label:"\u8BED\u97F3\u6587\u4EF6",prop:"file"},{label:"\u66F4\u65B0\u4EBA",prop:"updater"},{label:"\u66F4\u65B0\u65F6\u95F4",prop:"updateDate",render:e=>e.updateDate?O(e.updateDate).format("YYYY-MM-DD HH:mm:ss"):"-"},{label:"\u64CD\u4F5C",prop:"operation",slot:"operation"}];function le(e){return k({url:"qt/voice/list",method:"get",params:e})}function oe(e){return k({url:"qt/voice/add",method:"post",data:e})}function te(e){return k({url:"qt/voice/update",method:"post",data:e})}function ae(e){return k({url:"qt/voice/delete",method:"delete",params:e})}const ne={props:{value:{type:Boolean,default:!1},type:{type:String,default:""},defaultForm:{type:Object,default:()=>({})}},components:{FileUpload:z},emits:["cancel","confirm"],setup(e,{emit:l}){const r=T(!1),o=T(null),_={defaultForm:F({name:"",type:null,word:"",fileType:2,file:""},e.defaultForm),defaultRules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BED\u97F3\u540D\u79F0",trigger:"blur"}],type:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BED\u97F3\u7C7B\u578B",trigger:"change"}],word:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BED\u97F3\u6587\u672C",trigger:"blur"}],fileType:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BED\u97F3\u6587\u4EF6\u7C7B\u578B",trigger:"change"}],file:[{required:!0,message:"\u6587\u4EF6\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}]},confirm:s=>{const V=s.id?"\u7F16\u8F91\u6210\u529F":"\u65B0\u589E\u6210\u529F",n=s.id?te:oe;r.value=!0,n(s).then(g=>{w({type:"success",message:V,duration:1e3}),m.value=!1,l("confirm")}).finally(()=>{r.value=!1})},cancel:()=>{m.value=!1,l("cancel")}};J(()=>e.defaultForm,s=>{d.setForm(F({name:"",type:null,word:"",fileType:2,file:""},s))});const d=I(o,_),{getTitle:c,visible:m}=K(e,{create:"\u65B0\u589E",edit:"\u7F16\u8F91"}),u=[{label:"\u8BDD\u672F\u8BED\u97F3",value:1},{label:"\u8282\u70B9\u8BED\u97F3",value:2},{label:"\u77E5\u8BC6\u8BED\u97F3",value:3}],p=[{label:"\u6307\u5B9A\u6587\u4EF6",value:2}],h=s=>{d.form.value.file=s},C=X(()=>{const s=d.form.value.file.split("/");return d.form.value.file?[{url:d.form.value.file,name:s[s.length-1]}]:[]});return L(F({visible:m,title:c,formRef:o,typeList:u,fileTypeList:p,btnLoading:r},d),{updateFile:h,getFileList:C})}},re={class:"dialog-footer"},ie=q(" \u786E\u5B9A "),se=q("\u53D6\u6D88");function ue(e,l,r,o,_,d){const c=i("el-option"),m=i("el-select"),u=i("el-form-item"),p=i("el-input"),h=i("FileUpload"),C=i("el-form"),s=i("el-button"),V=i("el-dialog");return f(),b(V,{modelValue:o.visible,"onUpdate:modelValue":l[5]||(l[5]=n=>o.visible=n),title:o.title,"before-close":e.handleCancel},{footer:t(()=>[$("span",re,[a(s,{type:"primary",loading:o.btnLoading,onClick:e.handleConfirm},{default:t(()=>[ie]),_:1},8,["loading","onClick"]),a(s,{onClick:e.handleCancel},{default:t(()=>[se]),_:1},8,["onClick"])])]),default:t(()=>[a(C,{ref:"formRef",model:e.form,rules:e.rules,"label-width":"120px"},{default:t(()=>[a(u,{label:"\u8BED\u97F3\u7C7B\u578B:",prop:"type"},{default:t(()=>[a(m,{modelValue:e.form.type,"onUpdate:modelValue":l[0]||(l[0]=n=>e.form.type=n),placeholder:"\u8BF7\u9009\u62E9\u8BED\u97F3\u7C7B\u578B",style:{width:"100%"}},{default:t(()=>[(f(!0),D(P,null,U(o.typeList,(n,g)=>(f(),b(c,{key:g,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"\u8BED\u97F3\u540D\u79F0:",prop:"name"},{default:t(()=>[a(p,{modelValue:e.form.name,"onUpdate:modelValue":l[1]||(l[1]=n=>e.form.name=n),placeholder:"\u8BF7\u8F93\u5165\u8BED\u97F3\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(u,{label:"\u8BED\u97F3\u6587\u4EF6\u7C7B\u578B:",prop:"fileType"},{default:t(()=>[a(m,{modelValue:e.form.fileType,"onUpdate:modelValue":l[2]||(l[2]=n=>e.form.fileType=n),placeholder:"\u8BF7\u9009\u62E9\u8BED\u97F3\u6587\u4EF6\u7C7B\u578B",style:{width:"100%"}},{default:t(()=>[(f(!0),D(P,null,U(o.fileTypeList,(n,g)=>(f(),b(c,{key:g,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.form.fileType==2?(f(),b(u,{key:0,label:"\u6587\u4EF6\u540D\u79F0:",prop:"file"},{default:t(()=>[a(p,{modelValue:e.form.file,"onUpdate:modelValue":l[3]||(l[3]=n=>e.form.file=n)},null,8,["modelValue"])]),_:1})):R("",!0),e.form.fileType==3?(f(),b(u,{key:1,label:"\u6587\u4EF6\u540D\u79F0:",prop:"file"},{default:t(()=>[a(h,{buttonType:"primary",isShowTip:!1,onUpdateFile:o.updateFile,typeArray:null,fileList:o.getFileList,showFileList:""},null,8,["onUpdateFile","fileList"])]),_:1})):R("",!0),a(u,{label:"\u8BED\u97F3\u6587\u672C:",prop:"word"},{default:t(()=>[a(p,{type:"textarea",modelValue:e.form.word,"onUpdate:modelValue":l[4]||(l[4]=n=>e.form.word=n),placeholder:"\u8BF7\u8F93\u5165\u8BED\u97F3\u6587\u672C"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title","before-close"])}var me=E(ne,[["render",ue]]);const pe={components:{CreateDialog:me},setup(){x();const e=T(null),l=T({name:"",type:null}),r=T([]),o={selectionChange:function(p){r.value=p}},{toQuery:_,clearForm:d}=j(l,e),c=Z(_,{none:"\u8BF7\u9009\u62E9"}),m=[{label:"\u8BDD\u672F\u8BED\u97F3",value:1},{label:"\u8282\u70B9\u8BED\u97F3",value:2},{label:"\u77E5\u8BC6\u8BED\u97F3",value:3}],u=p=>{G.confirm("\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{ae({id:p}).then(()=>{w({type:"success",message:"\u5220\u9664\u6210\u529F"}),_()})}).catch(()=>{w({type:"info",message:"\u53D6\u6D88\u5220\u9664"})})};return L(F({basicTableRef:e,queryParams:l,getList:le,columns:ee,tableEvent:o,selectionData:r,toQuery:_,clearForm:d,typeList:m},c),{handleDelete:u})}},de=q(" + \u65B0\u5EFA"),fe=q(" \u7F16\u8F91 "),ce=q(" \u5220\u9664 ");function ye(e,l,r,o,_,d){const c=i("el-input"),m=i("el-form-item"),u=i("el-col"),p=i("el-option"),h=i("el-select"),C=i("SearchWrap"),s=i("el-button"),V=i("BasicTable"),n=i("ListContainer"),g=i("CreateDialog"),N=i("PageWrapper");return f(),b(N,null,{default:t(()=>[a(C,{onReset:o.clearForm,onSearch:o.toQuery,model:o.queryParams},{default:t(({colSpan:v})=>[a(u,{span:v},{default:t(()=>[a(m,{label:"\u8BED\u97F3\u540D\u79F0"},{default:t(()=>[a(c,{modelValue:o.queryParams.name,"onUpdate:modelValue":l[0]||(l[0]=y=>o.queryParams.name=y),placeholder:"\u8BF7\u8F93\u5165\u8BED\u97F3\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:2},1032,["span"]),a(u,{span:v},{default:t(()=>[a(m,{label:"\u8BED\u97F3\u7C7B\u578B\uFF1A"},{default:t(()=>[a(h,{placeholder:"\u8BF7\u9009\u62E9\u8BED\u97F3\u7C7B\u578B",modelValue:o.queryParams.type,"onUpdate:modelValue":l[1]||(l[1]=y=>o.queryParams.type=y),onChange:o.toQuery,clearable:""},{default:t(()=>[(f(!0),D(P,null,U(o.typeList,(y,M)=>(f(),b(p,{key:M,value:y.value,label:y.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:2},1032,["span"])]),_:1},8,["onReset","onSearch","model"]),a(n,null,{default:t(()=>[a(V,{tableEvent:o.tableEvent,columns:o.columns,queryApi:o.getList,queryParams:o.queryParams,ref:"basicTableRef"},{tableHeader:t(()=>[a(s,{type:"primary",onClick:l[2]||(l[2]=v=>e.handleOperationClick("create"))},{default:t(()=>[de]),_:1})]),operation:t(({data:v})=>[a(s,{type:"text",onClick:y=>e.handleOperationClick("edit",v)},{default:t(()=>[fe]),_:2},1032,["onClick"]),a(s,{type:"text",style:{color:"#f56c6c"},onClick:y=>o.handleDelete(v.id)},{default:t(()=>[ce]),_:2},1032,["onClick"])]),_:1},8,["tableEvent","columns","queryApi","queryParams"])]),_:1}),a(g,{value:e.showDialog,type:e.typeDialog,defaultForm:e.defaultForm,onCancel:e.handleCancel,onConfirm:e.handleConfirm},null,8,["value","type","defaultForm","onCancel","onConfirm"])]),_:1})}var We=E(pe,[["render",ye]]);export{We as default};
